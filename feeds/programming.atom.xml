<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>A Pelican Blog - programming</title><link href="https://til.grayvines.com/" rel="alternate"></link><link href="https://til.grayvines.com/feeds/programming.atom.xml" rel="self"></link><id>https://til.grayvines.com/</id><updated>2020-05-25T14:00:47-04:00</updated><entry><title>BPF</title><link href="https://til.grayvines.com/bpf.html" rel="alternate"></link><published>2020-05-25T14:00:47-04:00</published><updated>2020-05-25T14:00:47-04:00</updated><author><name></name></author><id>tag:til.grayvines.com,2020-05-25:/bpf.html</id><summary type="html">&lt;div class="section" id="jit"&gt;
&lt;h2&gt;JIT&lt;/h2&gt;
&lt;p&gt;A restricted subset of C is compiled via &lt;tt class="docutils literal"&gt;clang&lt;/tt&gt; to eBPF bytecode, and the
Linux kernel contains a JIT (and of course a VM) to execute it.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="bcc"&gt;
&lt;h2&gt;&lt;tt class="docutils literal"&gt;bcc&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/iovisor/bcc"&gt;bcc&lt;/a&gt; is a higher level toolkit for
interacting with eBPF (including via Python). For example:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;bcc&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;BPF&lt;/span&gt;

&lt;span class="n"&gt;BPF&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;text …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="jit"&gt;
&lt;h2&gt;JIT&lt;/h2&gt;
&lt;p&gt;A restricted subset of C is compiled via &lt;tt class="docutils literal"&gt;clang&lt;/tt&gt; to eBPF bytecode, and the
Linux kernel contains a JIT (and of course a VM) to execute it.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="bcc"&gt;
&lt;h2&gt;&lt;tt class="docutils literal"&gt;bcc&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/iovisor/bcc"&gt;bcc&lt;/a&gt; is a higher level toolkit for
interacting with eBPF (including via Python). For example:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;bcc&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;BPF&lt;/span&gt;

&lt;span class="n"&gt;BPF&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;        int kprobe__sys_clone(void *ctx) {&lt;/span&gt;
&lt;span class="s2"&gt;            bpf_trace_printk(&amp;quot;Hello, World!&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s2"&gt;n&amp;quot;);&lt;/span&gt;
&lt;span class="s2"&gt;            return 0;&lt;/span&gt;
&lt;span class="s2"&gt;        }&lt;/span&gt;
&lt;span class="s2"&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;trace_print&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;will attach a simple print callback whenever a new process is spawned (via
&lt;tt class="docutils literal"&gt;clone(2)&lt;/tt&gt;).&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="bpf-based-tools"&gt;
&lt;h2&gt;BPF-based tools&lt;/h2&gt;
&lt;p&gt;Brendan Gregg has a great &lt;a class="reference external" href="http://www.brendangregg.com/ebpf.html"&gt;diagram and post&lt;/a&gt; of the various BPF-using
tools, and which part of the stack they trace.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="more-tracing"&gt;
&lt;h2&gt;More Tracing&lt;/h2&gt;
&lt;p&gt;Julia Evans's &lt;a class="reference external" href="https://jvns.ca/blog/2017/07/05/linux-tracing-systems/"&gt;Linux tracing systems &amp;amp; how they fit together&lt;/a&gt; is pretty great
reading &amp;amp; reference for context beyond just BPF.&lt;/p&gt;
&lt;/div&gt;
</content><category term="programming"></category></entry><entry><title>coreutils</title><link href="https://til.grayvines.com/coreutils.html" rel="alternate"></link><published>2020-05-25T14:00:47-04:00</published><updated>2020-05-25T14:00:47-04:00</updated><author><name></name></author><id>tag:til.grayvines.com,2020-05-25:/coreutils.html</id><content type="html">&lt;p&gt;&lt;tt class="docutils literal"&gt;mkdir &lt;span class="pre"&gt;-p&lt;/span&gt;&lt;/tt&gt; will create a directory with its parents. But &lt;tt class="docutils literal"&gt;cp&lt;/tt&gt; takes a
parents option as well.&lt;/p&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;cp &lt;span class="pre"&gt;--parents&lt;/span&gt; foo/bar/baz/quux.txt some/directory&lt;/tt&gt; will create
&lt;tt class="docutils literal"&gt;some/directory/foo/bar/baz/quux.txt&lt;/tt&gt; without any of the other
directory structure from the original location.&lt;/p&gt;
</content><category term="programming"></category></entry><entry><title>dstat</title><link href="https://til.grayvines.com/dstat.html" rel="alternate"></link><published>2020-05-25T14:00:47-04:00</published><updated>2020-05-25T14:00:47-04:00</updated><author><name></name></author><id>tag:til.grayvines.com,2020-05-25:/dstat.html</id><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://dag.wiee.rs/home-made/dstat/"&gt;dstat&lt;/a&gt; can replace a bunch of other
statistical performance counting things (I/O, CPU, Disk, Network, Syscalls,
etc.).&lt;/p&gt;
</content><category term="programming"></category></entry><entry><title>Firefox</title><link href="https://til.grayvines.com/firefox.html" rel="alternate"></link><published>2020-05-25T14:00:47-04:00</published><updated>2020-05-25T14:00:47-04:00</updated><author><name></name></author><id>tag:til.grayvines.com,2020-05-25:/firefox.html</id><summary type="html">&lt;p&gt;The Firefox Dev Tools console defines a &lt;tt class="docutils literal"&gt;copy()&lt;/tt&gt; function which will copy
text to the clipboard.&lt;/p&gt;
&lt;p&gt;For some reason, using &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;navigator.clipboard.writeText(&amp;quot;asdf&amp;quot;)&lt;/span&gt;&lt;/tt&gt;, which &lt;a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/writeText"&gt;seems
to be the normal way to do this&lt;/a&gt; fires
a rejected promise. Probably something to do with the console environment being
different and weird …&lt;/p&gt;</summary><content type="html">&lt;p&gt;The Firefox Dev Tools console defines a &lt;tt class="docutils literal"&gt;copy()&lt;/tt&gt; function which will copy
text to the clipboard.&lt;/p&gt;
&lt;p&gt;For some reason, using &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;navigator.clipboard.writeText(&amp;quot;asdf&amp;quot;)&lt;/span&gt;&lt;/tt&gt;, which &lt;a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/writeText"&gt;seems
to be the normal way to do this&lt;/a&gt; fires
a rejected promise. Probably something to do with the console environment being
different and weird, or me not understanding the &lt;a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/Permissions_API/Using_the_Permissions_API"&gt;permissions API&lt;/a&gt;.&lt;/p&gt;
</content><category term="programming"></category></entry><entry><title>Git</title><link href="https://til.grayvines.com/git.html" rel="alternate"></link><published>2020-05-25T14:00:47-04:00</published><updated>2020-05-25T14:00:47-04:00</updated><author><name></name></author><id>tag:til.grayvines.com,2020-05-25:/git.html</id><summary type="html">&lt;p&gt;&lt;em&gt;git you magnificent beast...&lt;/em&gt;&lt;/p&gt;
&lt;div class="section" id="finding-the-history-of-a-function-or-object"&gt;
&lt;h2&gt;Finding the History of a Function or Object&lt;/h2&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;log &lt;span class="pre"&gt;-L&lt;/span&gt; :foo&lt;/tt&gt; will show you the history of the function/object called
&lt;tt class="docutils literal"&gt;foo&lt;/tt&gt;. This is a smarter version of normal &lt;tt class="docutils literal"&gt;log &lt;span class="pre"&gt;-L&lt;/span&gt;&lt;/tt&gt; which just knows about
lines.&lt;/p&gt;
&lt;p&gt;But because I'm lazy to even type this out, I …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;em&gt;git you magnificent beast...&lt;/em&gt;&lt;/p&gt;
&lt;div class="section" id="finding-the-history-of-a-function-or-object"&gt;
&lt;h2&gt;Finding the History of a Function or Object&lt;/h2&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;log &lt;span class="pre"&gt;-L&lt;/span&gt; :foo&lt;/tt&gt; will show you the history of the function/object called
&lt;tt class="docutils literal"&gt;foo&lt;/tt&gt;. This is a smarter version of normal &lt;tt class="docutils literal"&gt;log &lt;span class="pre"&gt;-L&lt;/span&gt;&lt;/tt&gt; which just knows about
lines.&lt;/p&gt;
&lt;p&gt;But because I'm lazy to even type this out, I made &lt;a class="reference external" href="https://github.com/Julian/dotfiles/blob/master/bin/git-pylog"&gt;git pylog&lt;/a&gt; to just
be able to type &lt;tt class="docutils literal"&gt;g pylog foo.bar.baz&lt;/tt&gt; and find the history of the FQON
there.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="finding-commits-by-message"&gt;
&lt;h2&gt;Finding Commits by Message&lt;/h2&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;git show :/foo&lt;/tt&gt; will find the last commit whose message contains &lt;tt class="docutils literal"&gt;foo&lt;/tt&gt;.
It accepts a regex.&lt;/p&gt;
&lt;p&gt;Specifically, &lt;tt class="docutils literal"&gt;git show :^Merge&lt;/tt&gt; should generally find the last merge commit.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="showing-various-parts-of-a-merge-conflict"&gt;
&lt;h2&gt;Showing Various Parts of a Merge Conflict&lt;/h2&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;git show :N:foo.txt&lt;/tt&gt; will show foo.txt from &amp;quot;stage&amp;quot; number N, which is
useful during conflict resoluton.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="git-name-rev"&gt;
&lt;h2&gt;&lt;tt class="docutils literal"&gt;git &lt;span class="pre"&gt;name-rev&lt;/span&gt;&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;name-rev&lt;/span&gt;&lt;/tt&gt; can append info about the position of a commit relative to tags.&lt;/p&gt;
&lt;p&gt;It can do this even interspersed in other prose text.&lt;/p&gt;
&lt;p&gt;E.g., given say a comment saying:&lt;/p&gt;
&lt;blockquote&gt;
I think this bug was caused by dc9061e8ffb5002e33688ae97d0d953818e89bae
and fixed in d099d7e84d1ce3cf9737e9785be339c917f4a3e3.&lt;/blockquote&gt;
&lt;p&gt;piping that to &lt;tt class="docutils literal"&gt;git &lt;span class="pre"&gt;name-rev&lt;/span&gt; &lt;span class="pre"&gt;--stdin&lt;/span&gt;&lt;/tt&gt; will output:&lt;/p&gt;
&lt;blockquote&gt;
I think this bug was caused by dc9061e8ffb5002e33688ae97d0d953818e89bae
(v1.0.0~2) and fixed in d099d7e84d1ce3cf9737e9785be339c917f4a3e3 (v1.0.1).&lt;/blockquote&gt;
&lt;p&gt;See its man page for more stuff.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="tags-matching-a-pattern"&gt;
&lt;h2&gt;Tags Matching a Pattern&lt;/h2&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;git tag &lt;span class="pre"&gt;-l&lt;/span&gt;&lt;/tt&gt; doesn't just list all tags, it can take a pattern and show only
matching ones, e.g.:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ g tag -l v*
&lt;/pre&gt;
&lt;p&gt;for showing version tags.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="git-shortlog"&gt;
&lt;h2&gt;&lt;tt class="docutils literal"&gt;git shortlog&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;shortlog&lt;/tt&gt; gives a nice summarized version of the log, e.g. for release
notes.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="listing-or-looping-over-revisions"&gt;
&lt;h2&gt;Listing or Looping Over Revisions&lt;/h2&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;git &lt;span class="pre"&gt;for-each-ref&lt;/span&gt;&lt;/tt&gt; will loop over given revisions.&lt;/p&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;git &lt;span class="pre"&gt;rev-list&lt;/span&gt;&lt;/tt&gt; will simply list them (in reverse order).&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="sending-patches-over-email"&gt;
&lt;h2&gt;Sending Patches Over Email&lt;/h2&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;format-patch&lt;/span&gt;&lt;/tt&gt; turns commits into patches as a file, and formatted for
sending via email or applying with &lt;tt class="docutils literal"&gt;git am&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
</content><category term="programming"></category></entry><entry><title>less</title><link href="https://til.grayvines.com/less.html" rel="alternate"></link><published>2020-05-25T14:00:47-04:00</published><updated>2020-05-25T14:00:47-04:00</updated><author><name></name></author><id>tag:til.grayvines.com,2020-05-25:/less.html</id><summary type="html">&lt;div class="section" id="less-s"&gt;
&lt;h2&gt;&lt;tt class="docutils literal"&gt;less &lt;span class="pre"&gt;-S&lt;/span&gt;&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-S&lt;/span&gt;&lt;/tt&gt; will disable soft line breaks within &lt;tt class="docutils literal"&gt;less&lt;/tt&gt;, allowing horizontal
scrolling.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="tailing-files"&gt;
&lt;h2&gt;Tailing Files&lt;/h2&gt;
&lt;p&gt;Use &lt;tt class="docutils literal"&gt;less +F&lt;/tt&gt; instead of &lt;tt class="docutils literal"&gt;tail &lt;span class="pre"&gt;-f&lt;/span&gt;&lt;/tt&gt;. It works the same, but supports
interrupting the stream with &lt;tt class="docutils literal"&gt;SIGINT&lt;/tt&gt; to e.g. search around, and then can
resume tailing by hitting &lt;tt class="docutils literal"&gt;F&lt;/tt&gt; again.&lt;/p&gt;
&lt;p&gt;Doing so will …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="less-s"&gt;
&lt;h2&gt;&lt;tt class="docutils literal"&gt;less &lt;span class="pre"&gt;-S&lt;/span&gt;&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-S&lt;/span&gt;&lt;/tt&gt; will disable soft line breaks within &lt;tt class="docutils literal"&gt;less&lt;/tt&gt;, allowing horizontal
scrolling.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="tailing-files"&gt;
&lt;h2&gt;Tailing Files&lt;/h2&gt;
&lt;p&gt;Use &lt;tt class="docutils literal"&gt;less +F&lt;/tt&gt; instead of &lt;tt class="docutils literal"&gt;tail &lt;span class="pre"&gt;-f&lt;/span&gt;&lt;/tt&gt;. It works the same, but supports
interrupting the stream with &lt;tt class="docutils literal"&gt;SIGINT&lt;/tt&gt; to e.g. search around, and then can
resume tailing by hitting &lt;tt class="docutils literal"&gt;F&lt;/tt&gt; again.&lt;/p&gt;
&lt;p&gt;Doing so will even then highlight the search pattern in the future text.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="less-command"&gt;
&lt;h2&gt;&lt;tt class="docutils literal"&gt;less +command&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;Passing &lt;tt class="docutils literal"&gt;+command&lt;/tt&gt; will run the given command each time a new file is opened
by &lt;tt class="docutils literal"&gt;less&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="filtering-lines"&gt;
&lt;h2&gt;Filtering Lines&lt;/h2&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;&amp;amp;pattern&lt;/tt&gt; will filter lines only matching the given pattern.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="opening-editor"&gt;
&lt;h2&gt;Opening EDITOR&lt;/h2&gt;
&lt;p&gt;Hitting &lt;tt class="docutils literal"&gt;v&lt;/tt&gt; will open the file in an editor.&lt;/p&gt;
&lt;/div&gt;
</content><category term="programming"></category></entry><entry><title>namei</title><link href="https://til.grayvines.com/namei.html" rel="alternate"></link><published>2020-05-25T14:00:47-04:00</published><updated>2020-05-25T14:00:47-04:00</updated><author><name></name></author><id>tag:til.grayvines.com,2020-05-25:/namei.html</id><summary type="html">&lt;p&gt;&lt;tt class="docutils literal"&gt;namei(1)&lt;/tt&gt; (provided by &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;util-linux&lt;/span&gt;&lt;/tt&gt; on macOS) is a nifty utility for fully
resolving symbolic links.&lt;/p&gt;
&lt;p&gt;Given a chain of links, it will show e.g.:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;⊙  namei =python                                                                                                                                                                                julian@Air ●&lt;/span&gt;
&lt;span class="go"&gt;f: /Users/julian/.local/bin/python&lt;/span&gt;
&lt;span class="go"&gt;d /&lt;/span&gt;
&lt;span class="go"&gt;d Users&lt;/span&gt;
&lt;span class="go"&gt;d julian&lt;/span&gt;
&lt;span class="go"&gt;l .local -&amp;gt; /Users/julian/.dotfiles/.local&lt;/span&gt;
&lt;span class="go"&gt;d /&lt;/span&gt;
&lt;span class="go"&gt;d Users …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;&lt;tt class="docutils literal"&gt;namei(1)&lt;/tt&gt; (provided by &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;util-linux&lt;/span&gt;&lt;/tt&gt; on macOS) is a nifty utility for fully
resolving symbolic links.&lt;/p&gt;
&lt;p&gt;Given a chain of links, it will show e.g.:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;⊙  namei =python                                                                                                                                                                                julian@Air ●&lt;/span&gt;
&lt;span class="go"&gt;f: /Users/julian/.local/bin/python&lt;/span&gt;
&lt;span class="go"&gt;d /&lt;/span&gt;
&lt;span class="go"&gt;d Users&lt;/span&gt;
&lt;span class="go"&gt;d julian&lt;/span&gt;
&lt;span class="go"&gt;l .local -&amp;gt; /Users/julian/.dotfiles/.local&lt;/span&gt;
&lt;span class="go"&gt;d /&lt;/span&gt;
&lt;span class="go"&gt;d Users&lt;/span&gt;
&lt;span class="go"&gt;d julian&lt;/span&gt;
&lt;span class="go"&gt;d .dotfiles&lt;/span&gt;
&lt;span class="go"&gt;d .local&lt;/span&gt;
&lt;span class="go"&gt;d bin&lt;/span&gt;
&lt;span class="go"&gt;l python -&amp;gt; /Users/julian/.local/share/virtualenvs/dev/bin/python&lt;/span&gt;
&lt;span class="go"&gt;d /&lt;/span&gt;
&lt;span class="go"&gt;d Users&lt;/span&gt;
&lt;span class="go"&gt;d julian&lt;/span&gt;
&lt;span class="go"&gt;l .local -&amp;gt; /Users/julian/.dotfiles/.local&lt;/span&gt;
&lt;span class="go"&gt;    d /&lt;/span&gt;
&lt;span class="go"&gt;    d Users&lt;/span&gt;
&lt;span class="go"&gt;    d julian&lt;/span&gt;
&lt;span class="go"&gt;    d .dotfiles&lt;/span&gt;
&lt;span class="go"&gt;    d .local&lt;/span&gt;
&lt;span class="go"&gt;d share&lt;/span&gt;
&lt;span class="go"&gt;d virtualenvs&lt;/span&gt;
&lt;span class="go"&gt;d dev&lt;/span&gt;
&lt;span class="go"&gt;d bin&lt;/span&gt;
&lt;span class="go"&gt;l python -&amp;gt; pypy&lt;/span&gt;
&lt;span class="go"&gt;    - pypy&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;which fully walks the chain and shows its nodes.&lt;/p&gt;
</content><category term="programming"></category></entry><entry><title>pv</title><link href="https://til.grayvines.com/pv.html" rel="alternate"></link><published>2020-05-25T14:00:47-04:00</published><updated>2020-05-25T14:00:47-04:00</updated><author><name></name></author><id>tag:til.grayvines.com,2020-05-25:/pv.html</id><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://ivarch.com/programs/pv.shtml"&gt;pv&lt;/a&gt; is a useful utility to insert in
shell pipelines for watching how much data passes through the pipe.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://www.cyberciti.biz/open-source/command-line-hacks/pv-command-examples/"&gt;This page&lt;/a&gt;
has a few simple examples, and there are more I'm sure with some googling
around.&lt;/p&gt;
</content><category term="programming"></category></entry><entry><title>socat</title><link href="https://til.grayvines.com/socat.html" rel="alternate"></link><published>2020-05-25T14:00:47-04:00</published><updated>2020-05-25T14:00:47-04:00</updated><author><name></name></author><id>tag:til.grayvines.com,2020-05-25:/socat.html</id><content type="html">&lt;p&gt;Use &lt;tt class="docutils literal"&gt;socat&lt;/tt&gt; instead of &lt;tt class="docutils literal"&gt;netcat&lt;/tt&gt;. It takes something more like endpoint
syntax (and does many more kinds of ports and configurable connectivity that
come with them).&lt;/p&gt;
&lt;p&gt;Tons of examples &lt;a class="reference external" href="http://www.dest-unreach.org/socat/doc/socat.html#EXAMPLES"&gt;here&lt;/a&gt;.&lt;/p&gt;
</content><category term="programming"></category></entry><entry><title>U2F and OpenSSH</title><link href="https://til.grayvines.com/u2f-and-openssh.html" rel="alternate"></link><published>2020-05-25T14:00:47-04:00</published><updated>2020-05-25T14:00:47-04:00</updated><author><name></name></author><id>tag:til.grayvines.com,2020-05-25:/u2f-and-openssh.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external" href="http://www.openssh.com/txt/release-8.2"&gt;As of OpenSSH 8.2&lt;/a&gt;, OpenSSH
now supports U2F for authentication.&lt;/p&gt;
&lt;p&gt;This is a totally separate authentication mechanism entirely from say,
ED25519 host keys with a second factor; here, the U2F (e.g. Yubikey)
&lt;em&gt;is&lt;/em&gt; / &lt;em&gt;has&lt;/em&gt; the key on it.&lt;/p&gt;
&lt;p&gt;To use it though, both sides (server and client) have …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://www.openssh.com/txt/release-8.2"&gt;As of OpenSSH 8.2&lt;/a&gt;, OpenSSH
now supports U2F for authentication.&lt;/p&gt;
&lt;p&gt;This is a totally separate authentication mechanism entirely from say,
ED25519 host keys with a second factor; here, the U2F (e.g. Yubikey)
&lt;em&gt;is&lt;/em&gt; / &lt;em&gt;has&lt;/em&gt; the key on it.&lt;/p&gt;
&lt;p&gt;To use it though, both sides (server and client) have to be recent
enough to support this form of login.&lt;/p&gt;
</content><category term="programming"></category></entry><entry><title>zsh</title><link href="https://til.grayvines.com/zsh.html" rel="alternate"></link><published>2020-05-25T14:00:47-04:00</published><updated>2020-05-25T14:00:47-04:00</updated><author><name></name></author><id>tag:til.grayvines.com,2020-05-25:/zsh.html</id><summary type="html">&lt;div class="section" id="id1"&gt;
&lt;h2&gt;&lt;tt class="docutils literal"&gt;&amp;amp;|&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;Piping using &lt;tt class="docutils literal"&gt;foo &amp;amp;| bar&lt;/tt&gt; will pipe both stdout &lt;em&gt;and&lt;/em&gt; stderr to &lt;tt class="docutils literal"&gt;bar&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="multios"&gt;
&lt;h2&gt;&lt;tt class="docutils literal"&gt;MULTIOS&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;With &lt;tt class="docutils literal"&gt;MULTIOS&lt;/tt&gt; enabled, multiple outputs to the same file descriptor can be
provided, similar to using &lt;tt class="docutils literal"&gt;tee&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;In other words:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ date &amp;gt;foo &amp;gt;bar
&lt;/pre&gt;
&lt;p&gt;will output &lt;tt class="docutils literal"&gt;date&lt;/tt&gt; to both &lt;tt class="docutils literal"&gt;foo&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;bar&lt;/tt&gt;. (Piping it will also work
since …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="id1"&gt;
&lt;h2&gt;&lt;tt class="docutils literal"&gt;&amp;amp;|&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;Piping using &lt;tt class="docutils literal"&gt;foo &amp;amp;| bar&lt;/tt&gt; will pipe both stdout &lt;em&gt;and&lt;/em&gt; stderr to &lt;tt class="docutils literal"&gt;bar&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="multios"&gt;
&lt;h2&gt;&lt;tt class="docutils literal"&gt;MULTIOS&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;With &lt;tt class="docutils literal"&gt;MULTIOS&lt;/tt&gt; enabled, multiple outputs to the same file descriptor can be
provided, similar to using &lt;tt class="docutils literal"&gt;tee&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;In other words:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ date &amp;gt;foo &amp;gt;bar
&lt;/pre&gt;
&lt;p&gt;will output &lt;tt class="docutils literal"&gt;date&lt;/tt&gt; to both &lt;tt class="docutils literal"&gt;foo&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;bar&lt;/tt&gt;. (Piping it will also work
since it implicitly is like redirecting).&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="cd-old-new"&gt;
&lt;h2&gt;&lt;tt class="docutils literal"&gt;cd old new&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;cd old new&lt;/tt&gt; will substitute &lt;tt class="docutils literal"&gt;new&lt;/tt&gt; into &lt;tt class="docutils literal"&gt;old&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;I.e. &lt;tt class="docutils literal"&gt;cd foo bar&lt;/tt&gt; in a working directory like &lt;tt class="docutils literal"&gt;/a/b/foo/c&lt;/tt&gt; will change to
&lt;tt class="docutils literal"&gt;/a/b/bar/c&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="vared"&gt;
&lt;h2&gt;&lt;tt class="docutils literal"&gt;vared&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;vared SOME_ENVIRONMENT_VARIABLE&lt;/tt&gt; will load the environment variable into a
line editor, with the output saved back to the environment variable.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="mailpath"&gt;
&lt;h2&gt;&lt;tt class="docutils literal"&gt;mailpath&lt;/tt&gt;&lt;/h2&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;mailpath&lt;/tt&gt; specifies the set of paths to look at for new mail.&lt;/p&gt;
&lt;/div&gt;
</content><category term="programming"></category></entry></feed>